
﻿
function GradAux_DataDeHoje()
{var lData=new Date();return lData.getDay()+"/"+lData.getMonth()+"/"+lData.getFullYear();}﻿
var gPreferenciasDoUsuario;var gNomeDoCookie="gradintra_preferencias";var gExpiracaoDoCookie=15;var gFlagPodeSalvarPreferencias=true;var gTimeoutParaSalvarPreferencias=1000;var gContagemEsperadaDeConteudosCarregados=0;var gContagemDeVerificacoesDeConteudosCarregados=0;function Preferencias_CriarObjetoDePreferencias()
{var lPreferencias=new Object();lPreferencias.UltimoSistema="Clientes";lPreferencias.UltimoSubSistema="Busca";return lPreferencias;}
function Preferencias_CarregarCookieDoUsuario()
{var lCookieLocal=$.cookie(gNomeDoCookie);if(lCookieLocal!=null)
{gPreferenciasDoUsuario=$.evalJSON(lCookieLocal);}
else
{gPreferenciasDoUsuario=Preferencias_CriarObjetoDePreferencias();Preferencias_SalvarCookieDoUsuario();}}
function Preferencias_ResetarCookieDoUsuario()
{$.cookie(gNomeDoCookie,null);alert("Recarregue a página para resetar");return false;}
function Preferencias_SalvarCookieDoUsuario()
{$.cookie(gNomeDoCookie,$.toJSON(gPreferenciasDoUsuario));}
function Preferencias_IniciarPreferencias()
{Preferencias_CarregarCookieDoUsuario();}
function Preferencias_HabilitarSalvar()
{gFlagPodeSalvarPreferencias=true;}
function Preferencias_DesabilitarSalvar()
{gFlagPodeSalvarPreferencias=false;}
function Preferencias_SalvarUltimoSistemaSelecionado(pNomeDoSistema)
{if(gFlagPodeSalvarPreferencias)
{gPreferenciasDoUsuario.UltimoSistema=pNomeDoSistema;Preferencias_SalvarCookieDoUsuario();}}
function Preferencias_SalvarUltimoSubSistemaSelecionado(pNomeDoSistema,pNomeDoSubSistema)
{if
(gFlagPodeSalvarPreferencias&&(gPreferenciasDoUsuario.UltimoSistema!=pNomeDoSistema||gPreferenciasDoUsuario.UltimoSubSistema!=pNomeDoSubSistema))
{gPreferenciasDoUsuario.UltimoSistema=pNomeDoSistema;gPreferenciasDoUsuario.UltimoSubSistema=pNomeDoSubSistema;Preferencias_SalvarCookieDoUsuario();}}
function Preferencias_FlagPodeSalvarPreferenciasLiberada()
{return gFlagPodeSalvarPreferencias;}